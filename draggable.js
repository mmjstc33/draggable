const draggable=document.getElementById("draggable");let offsetX=0,offsetY=0,isDragging=!1,isTap=!1,tapTimeout=null;function startDrag(e,t){isDragging=!0,offsetX=e-draggable.getBoundingClientRect().left,offsetY=t-draggable.getBoundingClientRect().top,draggable.style.cursor="grabbing"}function onDrag(e){isDragging&&(isTap=!1,moveElement(e.clientX,e.clientY))}function onTouchDrag(e){if(isDragging){const t=e.touches[0];isTap=!1,moveElement(t.clientX,t.clientY)}}function moveElement(e,t){draggable.style.left=`${e-offsetX}px`,draggable.style.top=`${t-offsetY}px`,draggable.style.position="absolute"}function stopDrag(e){if(isDragging=!1,draggable.style.cursor="grab",document.removeEventListener("mousemove",onDrag),document.removeEventListener("mouseup",stopDrag),document.removeEventListener("touchmove",onTouchDrag),document.removeEventListener("touchend",stopDrag),isTap){const t=draggable.querySelector("a");t&&t.click()}clearTimeout(tapTimeout)}draggable.addEventListener("mousedown",e=>{e.preventDefault(),startDrag(e.clientX,e.clientY),document.addEventListener("mousemove",onDrag),document.addEventListener("mouseup",stopDrag)}),draggable.addEventListener("touchstart",e=>{e.preventDefault();const t=e.touches[0];startDrag(t.clientX,t.clientY),isTap=!0,tapTimeout=setTimeout(()=>isTap=!1,200),document.addEventListener("touchmove",onTouchDrag),document.addEventListener("touchend",stopDrag)});